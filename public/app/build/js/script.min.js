angular.module("gpp",["ui.router","ngMaterial","angular-loading-bar","restangular","ngMdIcons","toastr","ngAnimate","angular.filter","md.data.table","LocalStorageModule","mainModule","homeModule","dashboardModule","loginModule","usersModule","app.userService","app.termService"]).constant("myConfig",{BASE_API:window.location.origin+"/"}).run(["$rootScope","$state","$location","$stateParams",function(e,t,n,o){e.previousState="",e.currentState="",e.$state=t,e.$stateParams=o,e.$on("$stateChangeSuccess",function(t,n,o,r,a){e.previousState=r.name,e.currentState=n.name,e.returnToStateParams=a.id,e.hasHeader=n.hasHeader,e.hasSidebar=n.hasSidebar,e.title=n.title}),e.$on("$routeChangeError",function(e,t,n,o){})}]).config(["cfpLoadingBarProvider","$stateProvider","$urlMatcherFactoryProvider","$urlRouterProvider","RestangularProvider","toastrConfig","$locationProvider","myConfig",function(e,t,n,o,r,a,i,u){angular.extend(a,{autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"}),e.includeSpinner=!1,n.caseInsensitive(!0),r.setBaseUrl(u.BASE_API+"/api"),r.addResponseInterceptor(function(e,t){return"getList"===t?e.data:e}),i.hashPrefix(""),o.otherwise("/"),t.state({name:"main",abstract:!0,views:{main_view:{templateUrl:"app/src/components/main/views/main.html",controller:"mainCtrl"}}}).state({name:"main.home",title:"Home",url:"/",templateUrl:"app/src/components/home/views/home.html",hasHeader:!0,hasSidebar:!0,controller:"homeCtrl"}).state({name:"main.dashboard",title:"Dashboard",url:"/dashboard",templateUrl:"app/src/components/dashboard/views/dashboard.html",hasHeader:!0,hasSidebar:!0,controller:"dashboardCtrl"}).state({name:"main.login",title:"Login",url:"/login",templateUrl:"app/src/components/login/views/login.html",hasHeader:!1,hasSidebar:!1,controller:"loginCtrl"}).state({name:"main.404",title:"404",url:"/404",templateUrl:"build/views/404.html"})}]),function(){function e(e,t,n,o,r){e.logout=function(){t.go("main.login")},e.refresh=function(){},e.posts=[],e.currentToken="",n.toggleSidenav=function(t){o(t).toggle(),"left"===t&&(e.openInfo=!e.openInfo)},e.menu=[{link:"main.dashboard",title:"Dashboard",icon:"dashboard"},{link:"main.reports",title:"reports",icon:"person"}]}angular.module("mainModule",[]).controller("mainCtrl",e)}(),function(){function e(e,t){e.doSearch=function(e){t.searchForTerm(e,function(e){},function(e){})}}angular.module("homeModule",[]).controller("homeCtrl",e)}(),function(){function e(){}angular.module("loginModule",[]).controller("loginCtrl",e)}(),angular.module("usersModule",[]).controller("usersCtrl",[]),function(){function e(e){}angular.module("dashboardModule",[]).controller("dashboardCtrl",e)}(),angular.module("app.userService",[]).factory("userService",["localStorageService","$rootScope","Restangular",function(e,t,n){function o(){return e.get("token")}function r(t,n,o,r,a){$http.post("/api/auth/signup",{name:t,email:n,password:o}).then(function(t){e.set("token",t.data.token),r(t)},function(e){a(e)})}function a(t,o,r,a){n.all("authenticate").post({email:t,password:o}).then(function(t){e.set("token",t.token),r(t)},function(e){a(e)})}function i(){e.remove("token")}function u(){return e.get("token")}function s(e,t){n.one("authenticated_user").get().then(function(t){e(t.user)},function(e){t(e)})}function l(e,t){n.all("users").getList().then(function(t){e(t)},function(){t(response)})}function c(e,t,o){n.one("users",e).get().then(function(e){t(e)},function(e){o(e)})}function d(e,t,o){n.all("users").post(e).then(function(e){t(e)},function(e){o(e)})}function m(e,t,o,r){n.one("users").customPUT(t,e).then(function(e){o(e)},function(e){r(e)})}function f(e,t,o){n.one("users/",e).remove().then(function(){t()},function(e){o(e)})}return n.setDefaultHeaders({Authorization:"Bearer "+u()}),{checkIfLoggedIn:o,signup:r,login:a,logout:i,getCurrentToken:u,getAuthenticatedUser:s,getAll:l,getById:c,create:d,update:m,remove:f}}]),function(){function e(e,t){function n(t,n){e.all("terms").getList().then(function(e){t(e)},function(){n(response)})}function o(t,n,o){e.one("terms",t).get().then(function(e){n(e)},function(e){o(e)})}function r(t,n,o){e.all("terms").post(t).then(function(e){n(e)},function(e){o(e)})}function a(t,n,o,r){e.one("terms").customPUT(n,t).then(function(e){o(e)},function(e){r(e)})}function i(t,n,o){e.one("terms/",t).remove().then(function(){n()},function(e){o(e)})}function u(t,n,o){e.oneUrl("terms/search/"+t).get().then(function(e){n(e)},function(e){o(e)})}return e.setDefaultRequestParams({token:t.getCurrentToken()}),{getAll:n,getById:o,searchForTerm:u,create:r,update:a,remove:i}}angular.module("app.termService",[]).factory("termService",e)}();